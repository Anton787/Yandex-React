# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ - исходные файлы проекта
- src/components/ - папка с JS компонентами
- src/components/base/ - папка с базовым кодом

Важные файлы:
- src/pages/index.html - HTML-файл главной страницы
- src/types/index.ts - файл с типами
- src/index.ts - точка входа приложения
- src/scss/styles.scss - корневой файл стилей
- src/utils/constants.ts - файл с константами
- src/utils/utils.ts - файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание классов и типов
-**1. Используемые интерфейсы и типы**
  -**IApiProduct** - полная информация о товаре (id, название, цена и др.)

  -**IOrderFormData** - полная информация о форме заказа (адрес, email, телефон, способ оплаты)

  -**Pick<IOrderFormData, 'payment' | 'address'>** - тип для данных адреса и оплаты

  -**Pick<IOrderFormData, 'email' | 'phone'>** - тип для данных контактов

  -**IBasketItemView** - описание элемента товара в корзине

  -**IOrderResult** - итоговый заказ (список товаров + сумма)

## 2. Models
-**productModel** - модель товаров
    -**products** - список всех товаров, загруженных с сервера.
-**basketModel** - модель корзины
    -**products**- список товаров, добавленных в корзину.
    -**add(item)** - добавить товар в корзину.
    -**remove(itemId)** - удалить товар из корзины.
    -**clear()** - очистить корзину.
    -**total** - геттер суммы всех товаров в корзине.
-**formModel** - модель оформления заказа
    -**setField(field, value**) - сохранить значение поля формы.
    -**setBasketItems(items)** - сохранить id выбранных товаров.
    -**setTotal(total)** - сохранить общую стоимость заказа.
    -**getOrderData()** - получить итоговые данные заказа для отправки.
-**API**
    -**getListCards()** - получение данных с Api
    -**makeOrder(orderData)** - отправляет заказ на сервер.

## 3. Views
-**BasketItemView** - отображает один товар в корзине
    -**render({ index, title, price })** - рендерит товар с порядковым номером.
-**BasketView** - отображает список товаров в корзине и итоговую сумму
    **items** - товары в корзине.
    **total** - сумма корзины.
-**OrderFormView** - форма для ввода адреса и выбора способа оплаты
    -**render({ payment, address, valid, errors })** - рендерит форму.
    -**valid** - валидность формы.
    -**errors** - массив ошибок.
-**ContactFormView** - форма для ввода email и телефона
    **render({ email, phone, valid, errors })** - рендерит форму.
-**SuccessView** - окно успешного оформления заказа
    -**render({ total })** - рендерит итоговую сумму заказа.
-**Modal** - управление модальным окном
    -**open()** - открыть модальное окно.
    -**close()** - закрыть модальное окно.
    -**content** - содержимое модального окна.
## 4. Events
-**card:button_click** - добавление/удаление товара из корзины по клику на карточку.
-**basket:changed** - обновление корзины при изменении её содержимого.
-**basket:open** - открытие корзины.
-**order:open** - открытие формы выбора адреса и способа оплаты.
-**order:address:submit** - сохранение адреса и способа оплаты.
-**order:contacts:submit** - сохранение email и телефона.
-**order:submit** - переход к форме ввода контактов.
-**order:complete** - отправка заказа и очистка корзины.
-**form:errors** - обработка ошибок форм.
-**success:close** - закрытие окна успешного заказа.